<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title></title>
  <style>
    * {
      margin: 0;
      padding: 0
    }

    img {
      vertical-align: top;
    }

    .main {
      margin: 0 auto;
      width: 1000px;
      margin-top: 10px;

    }

    .fixed {
      position: fixed;
      top: 0;
      left: 0;
    }
  </style>
</head>
<body>
<div class="top" id="topPart">
  <img src="img/top.png" alt=""/>
</div>
<div class="nav" id="navBar">
  <img src="img/nav.png" alt=""/>
</div>
<div class="main" id="mainPart">
  <img src="img/main.png" alt=""/>
</div>
<script>

    //获取浏览器向上卷曲出去的距离值
    function getScroll(){
        return{
        //document.documentElement.scrollTop就是html.scrollTop
        //做个兼容获取当前浏览器向上滚动的内容长度
        scrollTop1:window.pageYOffset||document.documentElement.scrollTop||
        document.body.scrollTop||0,//向上卷曲出去的距离
        scrollLeft1:window.pageXOffset||document.documentElement.scrollLeft||
        document.body.scrollLeft||0
        }
    }
    /*window.onscroll=function(){
        console.log(getScroll().scrollLeft1+"    "+getScroll().scrollTop1);
    }*/

var topPart=document.getElementById("topPart");
var nav = document.getElementById("navBar");
var main = document.getElementById("mainPart");
    /*滚动事件*/
    //获取top的高度，当scrollTop大于该值，那么
    window.onscroll=function(){
        if(getScroll().scrollTop1>=topPart.offsetHeight){
        nav.setAttribute("class","nav fixed");
        main.style.marginTop=nav.offsetHeight+"px";
        }else{
            nav.className="nav";
            main.style.marginTop="10px";
        }
    }

</script>

</body>
</html>
